#include <iostream>
#include <fstream>
#include <string.h>

using namespace std;

struct group// ñòðóêòóðà ãðóïïû
{
char name[9];//íàçâàíèå ãðóïïû ïðèìåð: ÁÑÁÎ-14-18
int kolvo;//ñêîëüêî ëþäåé â ãðóïïå
};
	
struct aud// ñòðóêòóðà àóäèòîðèè
{	
int m;//êîë-âî ìåñò â àóäèòîðèè
char naud[20];//íîìåð àóäèòîðèè
};

int main()
{
int kgrup;
cout<<"Enter the number of all groups"<<endl;
	cin>>kgrup;

int kaud;	
cout<<"Enter the number of all classrooms"<<endl;
	cin>>kaud;	
	
int kmaud=250;//êîë-âî ìåñò â àóäèòîðèè(äîïóñòèì ÷òî 250)

//àäàïòèðîâàííûé øàáëîí
int *st1 =new int[kgrup];//êîë-âî ÷åëîâåê â ãðóïïå
	string *st2=new string[kgrup];//íàçâàíèå ãðóïïû
	string *st3=new string[kgrup];//ðàñïðåäåëåíèå ïî ñåìèíàðàì
	string *st4=new string[kgrup];//ðàñïðåäåëåíèå ïî ïîòîêàì
	int *a1=new int[kaud];//êîë-âî ìåñò â àóäèòîðèè
	string *a2=new string[kaud];//íîìåð êàáèíåòà
//ãðóïïû
    group *group_kol=new group[kgrup];//ìàññèâ ñòðóêòóðû ãðóïïû (ñ êîëè÷åñòâîì=250)
   	int i,j,k,l;
   	vector<string> p_n;//íàçâàíèå ïîòîêà
   	vector<int> p_k;//êîë-âî â ïîòîêå
   	p_n.push_back(st4[0]);
   	p_k.push_back(0);
   	for(i=0;i<kgup;i++){
   		k=0;
   		l= 0;
   		i_g>>st1[i];
   		i_g>>st2[i];
   		i_g>>st3[i];
   		i_g>>st4[i];
   		for(j=0;j<p_n.size();j++){
   			if(p_n[j]==st4[i]){
   				p_k[j]=p_k[j]+st1[i];
			}else{
				k++;
				if(k==p_n.size()){
					p_n.push_back(st4[i]);
					p_k.push_back(0);
				}	
			}
   		}
	}	
//aóäèòîðèè
	aud *aud_mest=new aud[kaud];//ìàññèâ ñòðóêòóðû àóäèòîðèé 
   	cout<<endl;
   	for(i=0;i<kaud;i++){//ââîä äàííûõ â ìàññèâ ñòðóêòóðû 
   	cout<<"Enter number of places"<<endl;
   		cin>>a1[i];
   		aud_mest[i].m=a1[i];
   	cout<<"Enter number of classroom"<<endl;
	   	cin>>a2[i];
		aud_mest[i].naud=a2[i];
	}
//ðàññ÷¸ò
	for(int l=0;l<kaud;l++)//Öèêë äëÿ ïðîâåðêè ñ êàæäîé àóäèòîðèåé
	{		
		m_a=aud_mest[l].m;
		vector<int> calc;
		vector<int> res;//ðåçóëüòàò ðàññ÷¸òà
		int p_v=calc.size()/2;
		for(i=0;i<p_v;i++)	
		{
	    	int sum=249;//Êîë-âî ñòóäåíòîâ â îáúåäèíåííûõ ãðóïïàõ(íó äîïóñòèì âñåãäà ìåíüøå 250)
	    	int lucky=1;//êîë-âî ïîäõîäÿùèõ àóäèòîðèé-ãðóïï(äîïóñòèì)
	    	for(j=lucky+1;j<kgrup;j++)
	    	{
	       		if((sum+group_kol[j].k)<=m_a&&group_kol[j].s==group_kol[lucky].s){
					calc.push_back(kol+1);//ñêîëüêî òåïåðü ýëåìåíòîâ ò.ê. ìû äîáàâëÿåì òîëüêî îäèí òî kol+1	
					for(k=0;k<kol;k++)
	    			{
	    				calc.push_back(calc[k+1]);
					}
						res.push_back(sum+group_kol[j].k);
					p_v++;
				}
			}
	    }
	}
//âûâîä
for(i=0;i<calc.size();i++){
	for(int e=0;e<p_n.size();e++){
					if(res[k]==p_k[e])
					{
						cout<<calc[i]<<": ";
						for(j=0;j<calc[i];j++)
						{				
							if(group_kol[calc[i+j+1]]==p_n[e])
								cout<<group_kol[calc[i+j+1]].s<<" "<<group_kol[calc[i+j+1]].n<<group_kol[calc[i+j+1]].k<<endl;
						}
						cout<<endl;
					}
				}
	i=i+calc[i];
	k++;
}

}
